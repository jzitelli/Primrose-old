<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0">
        <meta name="description" content="A text editor in a WebGL texture, for great WebVR justice."/>
        <meta name="keywords" content="WebGL, WebVR, HTML5, JavaScript, text editor, source code editor, virtual reality, Primrose"/>
        <meta property="og:type" content="website"/>
        <meta property="og:site_name" content="Primrose Editor"/>
        <meta property="og:url" content="https://www.primroseeditor.com/"/>
        <meta property="og:title" content="Primrose Editor"/>
        <meta property="og:image" content="https://www.primroseeditor.com/images/screenshot0.jpg" />
        <meta property="og:description" content="A text editor in a WebGL texture, for great WebVR justice."/>
        <title>Primrose: Canvas-based text editor</title>
        <link href="//cdn-images.mailchimp.com/embedcode/classic-081711.css" rel="stylesheet" type="text/css">
        <link type="text/css" href="stylesheets/main.css" rel="stylesheet">
        <link type="text/css" href="stylesheets/button.css" rel="stylesheet">
        <script src="//checkout.stripe.com/checkout.js"></script>
        <script type="text/javascript" src="javascripts/three.min.js"></script>
        <script type="text/javascript" src="javascripts/Primrose.js"></script>
        <script type="text/javascript" src="javascripts/VREffect.js"></script>
        <script type="text/javascript" src="javascripts/InsideSphereGeometry.js"></script>
    </head>
    <body onload="init();">       
        <div id="outputContainer">
            <canvas id="output"></canvas>
        </div>    
    
        <header>
	  <!-- <img src="images/primrose64.png" alt="logo" title="Primrose logo"> -->
	</header>

        <div id="description">      

            <section id="menu">
                <a href="javascript:showSection('home');" class="primary button">Home</a>
                <a href="javascript:showSection('download');" class="primary button">Download</a>
                <a href="javascript:showSection('screenshots');" class="primary button">Screenshots</a>
                <a href="javascript:showSection('about');" class="primary button">About</a>
                <a href="javascript:showSection('faq');" class="primary button">FAQ</a>
                <a href="javascript:showSection('mail');" class="primary button">Contact</a>
                <a href="https://github.com/capnmidnight/Primrose" target="_blank" class="primary button" onclick="ga('send', 'pageview', 'github');">Github</a>
            </section>          
            
            <section id="content">

                <article id="home">
                    <h2>Try Primrose <span class="version-label"></span> now!</h2>
                    <p>Primrose is a source code editor control that can be used in WebGL/WebVR projects.
                        Use it to experiment with new ideas on productivity UIs in virtual spaces. A live-demo 
                        of Primrose is running on the background of this page. Follow the instructions below
                        to use it.</p>
                    <a class="primary button" id="goVR" onclick="goFullscreen()">
                        <div id="fullScreenMsg">Go VR!</div>
                        <small>hit ESC to exit.</small>
                    </a>
                    <a class="primary button" id="goRegular" onclick="goFullscreen()">
                        Go full-screen<br>
                        <small>hit ESC to exit.</small>
                    </a>
                    <a class="primary button" id="goMobile" href="editor.html" target="_blank">
                        Open 2D editor in new window.<br>
                        <small>Primrose does not yet work on mobile</small>
                    </a>
                    <p id="nightly">Use with <a href="http://mozvr.com/downloads/" target="_blank">Firefox Nightly</a> or 
                        <a href="http://blog.tojicode.com/2014/07/bringing-vr-to-chrome.html" target="_blank">Chrome WebVR</a>
                        to view in virtual reality! Read more about WebVR at <a href="http://mozvr.com/" target="_blank">MozVR.com</a></p>
                    
                    <h2>Instructions:</h2>
                    <ul>
                        <li>Use <kbd>SHIFT+mouse</kbd> or a one-finger drag to look around</li>
                        <li>Use keyboard (default <kbd>WASD</kbd>) or two-finger drag to navigate.</li>
                        <li>Click on the editor objects start editing.</li>
                        <li>Use common keyboard controls to edit the text.</li>
                        <li>Click off from an editor object to exit editing.</li>
                        <li><kbd>CTRL+SHIFT+SPACE</kbd> (Windows/Linux) or <kbd>CMD+OPT+E</kbd> (OS X) to execute code from editor.</li>
                        <li><kbd><span class="cmdLabel"></span>+Up-Arrow</kbd> to increase font size.</li>
                        <li><kbd><span class="cmdLabel"></span>+Down-Arrow</kbd> to decrease font size.</li>
                    </ul>
                    <table id="settings">
                        <thead>
                            <tr>
                                <th>Navigation</th>
                                <th>Settings</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>
                                    <em>(Tap new key in each textbox)</em><br>
                                    <input type="text" id="forwardKey" size="5"><label for="forwardKey"> - forward</label><br>
                                    <input type="text" id="leftKey" size="5"><label for="leftKey"> - left</label><br>
                                    <input type="text" id="backKey" size="5"><label for="backKey"> - back</label><br>
                                    <input type="text" id="rightKey" size="5"><label for="rightKey"> - right</label><br>
                                </td>
                                <td>
                                    <input type="checkbox" id="toggleLineNumbers" checked><label for="toggleLineNumbers">Show line numbers</label><br>
                                    <input type="checkbox" id="toggleScrollBars" checked><label for="toggleScrollBars">Show scroll bars</label>
                                    <div id="controls">
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </article>

                <article id="download">
                    <h2>Primrose <span class="version-label"></span>: the syntax-highlighting text editor for WebGL</h2>
                    <p>Primrose is a cross-browser, syntax-highlighting code editor control for use in WebGL applications.</p>

                    <p>
                        <a id="buyLicenseButton" class="primary button">Buy a license<br><small><span id="licensePrice"></span> to use Primrose in closed-source projects.</small></a>
                    </p>

                    <p id="purchaseError" class="error message">
                        <big>ERROR!</big><br>
                        We're sorry.
                        <span id="purchaseError-msg"></span>
                        <span id="purchaseError-ref"></span>
                        Please contact <a id="purchaseError-email">Sean T. McBeth &lt;sean@primroseeditor.com&gt;</a> for help. 
                        <a href="#" onclick="this.parentElement.style.display = '';">dismiss</a>
                    </p>
                    <p id="purchaseSuccess" class="success message">
                        <big>Thank you!</big><br>
                        Your purchase ID is: <em id="purchaseSuccess-token"></em><br><br>
                        Your license key is: <em id="purchaseSuccess-license"></em><br><br>
                        Please download the Primrose include file and keep your license key in a file named "PRIMROSE_LICENSE" in the same directory in which you keep the Primrose include file.
                        <a href="#" onclick="this.parentElement.style.display = '';">dismiss</a>
                    </p>

                    <p><a href="https://raw.githubusercontent.com/capnmidnight/Primrose/master/dist/Primrose.min.js" class="secondary button">Use for free<br><small>Primrose <span class="version-label"></span>: 41.9 KB minified, free for open-source projects.</small></a></p>

                </article>

                <article id="about">
                    <h2>About Primrose <span class="version-label"></span></h2>
                    
                    <!-- <img src="images/logo128.png" alt="logo" title="Primrose" style="float:left;"> -->

                    <p>Primrose is a lightweight text editor control with syntax highlighting and keyboard shortcuts for web browsers and WebGL projects. 
                        It draws directly to an HTML Canvas element. The resulting image can easily be used as a texture on a 3D object in a WebGL context.</p>
                    
                    <p>Primrose is extensible, providing a framework to support any number of programming languages, themes, and editing styles.</p>

                    <p><em>NOTE: This is still an early alpha release, with bugs of both the known and unknown variety. In particular, I have no way of testing whether 
                            or not the international keyboard support is correct. But the results so far are promising. <a href="keyboard_test.html" target="_blank">Consider contributing information
                                about your keyboard in your locale</a>!</em></p>

                </article>
                
                <article id="screenshots">
                    <h2>Screenshots</h2>
                    <p>
                        <a href="images/screenshot0.jpg" target="_blank">
                            <img src="images/screenshot0.jpg" alt="screenshot" title="Primrose in action" style="width:100%">
                        </a>
                    </p>
                    <p>
                        <a href="images/screenshot1.jpg" target="_blank">
                            <img src="images/screenshot1.jpg" alt="screenshot" title="Primrose in action" style="width:100%">
                        </a>
                    </p>
                    <p>
                        <a href="images/screenshot2.jpg" target="_blank">
                            <img src="images/screenshot2.jpg" alt="screenshot" title="Primrose in action" style="width:100%">
                        </a>
                    </p>

                </article>
                
                <article id="faq">
                    <h2>FAQ</h2>
                    
                    <h3>"What License does Primrose use?"</h3>
                    <p>There are two options for licensing Primrose. By giving in kind one of the two C's, you will receive a perpetual, non-exclusive, unrestricted license&mdash;including
                        future updates&mdash;to use Primrose in any project of your choosing:</p>
                    <ol>
                        <li><strong>Code:</strong> Primrose is free, open source software (<a href="https://github.com/capnmidnight/Primrose/blob/master/LICENSE.md">GPLv3</a>) and may readily be 
                        used with other <a href="http://en.wikipedia.org/wiki/Free_and_open-source_software" target="_blank">FOSS</a> projects.</li>
                        <li><strong>Coin:</strong> If you would like to use Primrose in proprietary or GPL-incompatible projects, please <a href="javascript:showSection('download');">buy a license</a>. [insert link to proper license file]</li>
                    </ol>

                    <h3>"How do I contribute to Primrose?"</h3>
                    <p>To simplify licensing issues, contributions to Primrose require a copyright assignment to me, Sean T. McBeth. Please include your name and email
                        address in the <a href="https://github.com/capnmidnight/Primrose/blob/master/CONTRIBUTORS.md">CONTRIBUTORS.md</a> file with your pull request. 
                        This will serve as your copyright assignment.</p>

                    <h3>"But didn't Mozilla abandon Canvas for <a href="https://mozillalabs.com/en-US/skywriter/" target="_blank">Bespin/SkyWriter</a>?"</h3>
                    <p>Mozilla abandoned Bespin as a project, choosing to adopt Ace for convenience and time-cost purposes. Also, their requirements had no 
                        need for the text to be an image. I specifically need an image to use as a texture on 3D objects. Primrose fulfills a different 
                        purpose than Bespin.</p>
                    <p>That said, <a href="https://github.com/mattdesl/fontpath" target="_blank">Fontpath</a> does exist and may help overcome certain scaling issues
                       present with the HTML5 Text API. Content-Editable DOM elements are not the correct solution.</p>

                    <h3>"Why not <a href="http://ace.c9.io/#nav=about" target="_blank">Ace</a>/<a href="http://codemirror.net/" target="_blank">CodeMirror</a>?"</h3>
                    <p>There are a few browser-based source code editor projects that render to DOM elements, with Ace and CodeMirror probably being the most popular. 
                        All solutions involving overlaying of HTML elements on top of a base Canvas element do not composite well in WebGL contexts. This may work fine in 2D, where
                        elements are built in layers, but in 3D the HTML Element is not a part the scene and does participate in depth buffering. The text will always
                        be a 2D element masquerading in a 3D world, never overlapping properly with other objects in the scene.</p>
                    
                    <h3>"Why not <a href="http://kra.hn/projects/live-programming-with-three-and-webvr" target="_blank">CodeChisel3D</a> or <a href="http://www.lutzroeder.com/html5/textor/" target="_blank">Textor</a>?"</h3>
                    <p>I didn't know about CodeChisel3D or Textor at the time that I started this project. CodeChisel3D is based on an adapted version of Ace called 
                        <a href="https://github.com/rksm/three-codeeditor" target="_blank">Three-CodeEditor</a>. Textor is another from-scratch text editor, written
                        in TypeScript, that draws directly to Canvas. They both look like a fine projects.</p>

                    <h3>"Why not <a href="https://github.com/danielearwicker/carota" target="_blank">Carota</a>?"</h3>
                    <p>Carota is a fine project, but it is intended for rich-text editing. I don't want the user to be in control of the styling of a document, unless
                        they are specifically changing the styling of a theme to apply to the syntax-highlighted text. Primrose is still only for editing plain-text, 
                        with language-aware syntax highlighting.</p>
                    <p>That said, while Primrose is ideal for creating a code editor, you should use Carota if you intend to make a rich-text editor.</p>
                    
                    <h3>"But the resolution on the Oculus Rift DK2 is awful!"</h3>
                    <p>This is certainly a problem, but there isn't much I can do about it, and I believe it will not be a problem in the near future. I'm developing
                    Primrose to be able to develop other products to be ready at that time.</p>

                </article>

                <article id="mail">
                    <h2>Primrose mailing list</h2>
                    <p>Join the mailing list to receive weekly updates on Primrose and other projects around the Web related to computer graphics, virtual reality, and software development.</p>
                    <!-- Begin MailChimp Signup Form -->
                    <div id="mc_embed_signup">
                        <form action="//coworksupernova.us8.list-manage.com/subscribe/post?u=81af61e5ed1771efc26829263&amp;id=14fb0203a4" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                            <div id="mc_embed_signup_scroll">

                                <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
                                <div class="mc-field-group">
                                    <label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
                                    </label>
                                    <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
                                </div>
                                <div class="mc-field-group">
                                    <label for="mce-FNAME">First Name </label>
                                    <input type="text" value="" name="FNAME" class="" id="mce-FNAME">
                                </div>
                                <div class="mc-field-group">
                                    <label for="mce-LNAME">Last Name </label>
                                    <input type="text" value="" name="LNAME" class="" id="mce-LNAME">
                                </div>
                                <div class="mc-field-group input-group">
                                    <strong>Email Format </strong>
                                    <ul><li><input type="radio" value="html" name="EMAILTYPE" id="mce-EMAILTYPE-0"><label for="mce-EMAILTYPE-0">html</label></li>
                                        <li><input type="radio" value="text" name="EMAILTYPE" id="mce-EMAILTYPE-1"><label for="mce-EMAILTYPE-1">text</label></li>
                                    </ul>
                                </div>
                                <div id="mce-responses" class="clear">
                                    <div class="response" id="mce-error-response" style="display:none"></div>
                                    <div class="response" id="mce-success-response" style="display:none"></div>
                                </div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                                <div style="position: absolute; left: -5000px;"><input type="text" name="b_81af61e5ed1771efc26829263_14fb0203a4" tabindex="-1" value=""></div>
                                <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="primary button" style="border-radius:0;width:100%;color: #3B3D13;"></div>
                            </div>
                        </form>
                    </div>
                    <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
                    <!--End mc_embed_signup-->
                </article>

                <footer>
                    <!-- <a href="https://www.seanmcbeth.com" target="_blank"><img src="images/stm.png" alt="logo" title="Sean T. McBeth" style="height:32px"></a> -->
                    <!-- <a href="https://github.com/capnmidnight" target="_blank"><img src="images/github.png" alt="logo" title="GitHub profile" style="height:32px"></a> -->
                    <!-- <a href="https://github.com/voodootikigod/logo.js" target="_blank"><img src="images/js.png" alt="logo" title="JavaScript" style="height:32px"></a> -->
                    <!-- <a href="http://www.w3.org/html/" target="_blank"><img src="images/html5.png" alt="logo" title="HTML5"></a> -->
                    <!-- <a href="http://www.gnu.org/licenses/gpl.html" target="_blank"><img src="images/gplv3.png" alt="logo" title="GPLv3"></a> -->
                    <!-- <a href="http://www.stripe.com" target="_blank"><img src="images/stripe.png" alt="logo" title="Stripe"></a> -->
                    <small>Copyright &copy; <a href="https://www.seanmcbeth.com">Sean T. McBeth</a>, 2015. <span id="loc" style="display: none;"></span></small>
                </footer>
            </section>
        </div>
        <script type="text/javascript" src="javascripts/ga.js"></script>
	<script src="javascripts/tween.min.js"></script>
	<script src="javascripts/VRControls.js"></script>
	<script src="javascripts/C4DCurveLoader.js"></script>
	<script src="javascripts/webvr-polyfill.js"></script>
	<script src="javascripts/webvr-manager.js"></script>
        <script type="text/javascript" src="javascripts/sechelt.js"></script>
        <script type="text/javascript" src="javascripts/store.js"></script>
        <script type="text/javascript" src="javascripts/demo.js"></script>
        <script type="text/javascript" src="javascripts/sswcs.js"></script>        
    </body>
</html>
